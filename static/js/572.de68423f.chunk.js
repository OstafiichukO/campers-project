"use strict";(self.webpackChunkcampers_project=self.webpackChunkcampers_project||[]).push([[572],{5135:function(e,i,a){var n=a(9439),t=a(2791);i.Z=function(){var e=(0,t.useState)({width:window.innerWidth,height:window.innerHeight}),i=(0,n.Z)(e,2),a=i[0],s=i[1];return(0,t.useEffect)((function(){var e=function(){s({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a}},5320:function(e,i,a){a.d(i,{Z:function(){return s}});var n={"btn-search":"Button_btn-search__KzS0S","btn-reset":"Button_btn-reset__TGkTf","btn-loadmore":"Button_btn-loadmore__u1uP0","btn-submit":"Button_btn-submit__fmX82","box-details":"Button_box-details__KoBYo"},t=a(184),s=function(e){var i=e.tag,a=e.type,s=e.className,l=e.children,r=e.onClick;switch(i){case"li":return(0,t.jsx)("li",{className:n[s],children:l});case"button":return(0,t.jsx)("button",{type:a,className:n[s],onClick:r,children:l});default:return null}}},5572:function(e,i,a){a.r(i),a.d(i,{default:function(){return W}});var n=a(7689),t=a(4942),s=a(1413),l=a(9439),r=a(2791),c=a(8329),o=a(1540),d=a(7199),p=a(4975),u="LocationFilter_location-filter__ey38n",_="LocationFilter_label__hs1FF",h="LocationFilter_dropdown__+tJHx",m=a(184),v=function(e){var i=e.onChange,a=e.selectedFilters,n=p.pr.find((function(e){return e.value.includes(a.location)}));return(0,m.jsx)("div",{className:u,children:(0,m.jsxs)("label",{className:_,children:["Location",(0,m.jsx)(o.ZP,{className:h,placeholder:"Kyiv, Ukraine",options:p.pr,value:n,onChange:function(e){e.length>0&&i({name:"location",value:e[0].value,key:e[0].key,checked:!0})},closeOnScroll:!0,closeOnSelect:!0,color:"var(--accent-color)"}),(0,m.jsx)(d.Z,{id:"location"})]})})},g={"equipment-container":"EquipmentFilter_equipment-container__miqwo","field-set":"EquipmentFilter_field-set__7Z6QR",collapsed:"EquipmentFilter_collapsed__2zK-P","collapse-btn":"EquipmentFilter_collapse-btn__oqKk-",title:"EquipmentFilter_title__VUJOg","input-wrap":"EquipmentFilter_input-wrap__0THsB","check-box":"EquipmentFilter_check-box__ojUlZ"},x=function(e){var i=e.onChange,a=e.selectedFilters,n=(0,r.useState)(!1),t=(0,l.Z)(n,2),s=t[0],c=t[1];return(0,m.jsxs)("div",{className:"".concat(g["equipment-container"]," ").concat(s?g.collapsed:""),children:[(0,m.jsxs)("h2",{className:g.title,children:[(0,m.jsx)("span",{children:"Vehicle equipment"}),(0,m.jsx)("button",{className:g["collapse-btn"],onClick:function(){c(!s)},children:(0,m.jsx)(d.Z,{id:s?"arrow-down":"arrow-up"})})]}),(0,m.jsx)("fieldset",{className:"".concat(g["field-set"]," ").concat(s?g.hidden:""),children:p.qk.map((function(e){var n=e.key,t=e.value,s=e.text;return(0,m.jsxs)("div",{className:g["input-wrap"],children:[(0,m.jsx)("input",{type:"checkbox","data-equipment":!0,name:n,value:t,checked:a[n]===t,onChange:function(e){var a=e.target;return i(a)}}),(0,m.jsxs)("div",{className:g["check-box"],children:[(0,m.jsx)(d.Z,{id:n})," ",s]})]},n)}))})]})},j="VenicleType_vehicle-filters__qMddA",f="VenicleType_field-set__kwYxh",b="VenicleType_collapsed__yqq6W",N="VenicleType_collapse-btn__9s8rA",w="VenicleType_title__c-ZQx",C="VenicleType_input-wrap__I9rj0",k="VenicleType_radio-btn__SY7eu",Z=function(e){var i=e.onChange,a=e.selectedFilters,n=(0,r.useState)(!1),t=(0,l.Z)(n,2),s=t[0],c=t[1];return(0,m.jsxs)("div",{className:"".concat(j," ").concat(s?b:""),children:[(0,m.jsxs)("h2",{className:w,children:[(0,m.jsx)("span",{children:"Vehicle type"}),(0,m.jsx)("button",{className:N,onClick:function(){c(!s)},children:(0,m.jsx)(d.Z,{id:s?"arrow-down":"arrow-up"})})]}),(0,m.jsx)("fieldset",{className:f,children:p.vK.map((function(e){var n=e.value,t=e.text;return(0,m.jsxs)("div",{className:C,children:[(0,m.jsx)("input",{type:"radio",name:"type",value:n,checked:a.form===n,onChange:function(e){var a=e.target;return i(a)}}),(0,m.jsxs)("div",{className:k,children:[(0,m.jsx)(d.Z,{id:n})," ",t]})]},n)}))})]})},F=a(5320),V="Filters_filter-container__ZiKgc",y="Filters_filters-wrapper__97cwx",P="Filters_heading__c7piO",q="Filters_btns-wrapper__v9F7K",E={location:"",transmission:"",airConditioner:"",form:"",bathroom:"",kitchen:"",TV:"",limit:p.VZ,page:1},L=function(){var e=(0,n.s0)(),i=(0,r.useState)(E),a=(0,l.Z)(i,2),o=a[0],d=a[1],p=(0,c.F)(),u=p.searchParams,_=p.setSearchParams;(0,r.useEffect)((function(){var e={};Object.keys(o).forEach((function(i){var a=u.get(i);e[i]=a||o[i]})),d(e)}),[u]);var h=function(e){var i="";if("location"===e.name)i="location";else if("automatic"===e.value)i="transmission";else{var a;i=null!==e&&void 0!==e&&null!==(a=e.dataset)&&void 0!==a&&a.equipment?e.name:"form"}!function(e,i,a){d((function(n){return(0,s.Z)((0,s.Z)({},n),{},(0,t.Z)({},e,a?i:""))}))}(i,e.value,e.checked)};return(0,m.jsxs)("div",{className:V,children:[(0,m.jsx)(v,{onChange:h,selectedFilters:o}),(0,m.jsxs)("div",{className:y,children:[(0,m.jsx)("h4",{className:P,children:"Filters"}),(0,m.jsx)(x,{onChange:h,selectedFilters:o}),(0,m.jsx)(Z,{onChange:h,selectedFilters:o})]}),(0,m.jsxs)("div",{className:q,children:[(0,m.jsx)(F.Z,{className:"btn-search",type:"button",tag:"button",onClick:function(){var e={};Object.entries(o).forEach((function(i){var a=(0,l.Z)(i,2),n=a[0],t=a[1];t&&(e[n]=t)})),e.page=1,_(e)},children:"Search"}),(0,m.jsx)(F.Z,{className:"btn-reset",type:"button",tag:"button",onClick:function(){d((function(e){return(0,s.Z)((0,s.Z)({},e),E)})),e("/catalog")},children:"Reset"})]})]})},S=a(1108),O=a(1087),T=a(4420),B=a(156),K=a(5135),U={"vehicle-item":"VehicleCard_vehicle-item__59ILe","mt-position":"VehicleCard_mt-position__uO-cE",img:"VehicleCard_img__Vc65D","content-wrapper":"VehicleCard_content-wrapper__0O29a",name:"VehicleCard_name__8wXHC","info-wrapper":"VehicleCard_info-wrapper__joaxA","info-wrapper-top":"VehicleCard_info-wrapper-top__rGEEz",rating:"VehicleCard_rating__JDbla",location:"VehicleCard_location__2JvIs",wrapper:"VehicleCard_wrapper__5V76O",price:"VehicleCard_price__IudOm","fav-btn":"VehicleCard_fav-btn__X8Esd",description:"VehicleCard_description__BNQD6","details-list":"VehicleCard_details-list__ehdgx"},z=function(e){var i=e.vehicle,a=i._id,t=i.name,s=i.price,r=i.location,c=i.description,o=i.details,p=i.rating,u=i.reviews,_=i.gallery,h=(0,T.v9)((function(e){return e.favorites})).favorites.some((function(e){return e._id===a})),v=(0,T.I0)(),g=(0,n.TH)(),x=(0,K.Z)().width;return(0,m.jsxs)("li",{"data-vehicle":a,className:U["vehicle-item"],children:[(0,m.jsx)("img",{className:U.img,src:_.length?_[0]:"not-found-img.jpg",alt:t}),(0,m.jsxs)("div",{className:U["content-wrapper"],children:[(0,m.jsxs)("div",{className:U["mt-position"],children:[(0,m.jsxs)("div",{className:U["info-wrapper-top"],children:[(0,m.jsx)("h3",{className:U.name,children:t}),(0,m.jsxs)("div",{className:U.wrapper,children:[(0,m.jsxs)("p",{className:U.price,children:["\u20ac",s.toFixed(2)]}),(0,m.jsx)("button",{className:U["fav-btn"],onClick:function(){v(h?(0,B.zm)(a):(0,B._p)(i))},children:(0,m.jsx)(d.Z,{id:h?"heart-active":"heart"})})]})]}),(0,m.jsxs)("div",{className:U["info-wrapper"],children:[(0,m.jsxs)("p",{className:U.rating,children:[(0,m.jsx)(d.Z,{id:"rating"}),(0,m.jsxs)(O.rU,{to:"vehicle/".concat(a,"/reviews"),state:{from:g},children:[(0,m.jsx)("span",{children:p}),(0,m.jsxs)("span",{className:U["reviews-number"],children:["(",u.length,1===u.length?" Review":" Reviews",")"]})]})]}),(0,m.jsxs)("p",{className:U.location,children:[(0,m.jsx)(d.Z,{id:"location"}),(0,m.jsx)("span",{children:r})]})]}),(0,m.jsx)("p",{className:U.description,children:x<768?c.slice(0,90)+"...":x>=768&&x<1440?c.slice(0,200)+"...":c.slice(0,55)+"..."})]}),(0,m.jsx)("ul",{className:U["details-list"],children:Object.entries(o).map((function(e,i){var a=(0,l.Z)(e,2),n=a[0],t=a[1];return x<768&&i>=6||x>=1440&&i>=8?null:t&&"bathroom"!==n?(0,m.jsxs)(F.Z,{tag:"li",className:"box-details",children:[(0,m.jsx)(d.Z,{id:n}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:t}),(0,m.jsxs)("span",{children:[" ",n]})]})]},"vehicle-card-details-".concat(n)):null}))}),(0,m.jsx)(F.Z,{className:"btn-loadmore",type:"button",tag:"button",children:(0,m.jsx)(O.rU,{to:"vehicle/".concat(a,"/features"),state:{from:g},children:"Show More"})})]})]},"vehicle-card-".concat(a))},H=a(8327),I=a(6048),D=a.n(I),J={"pagination-container":"Pagination_pagination-container__n2XI6",pagination:"Pagination_pagination__mbCiP","page-active":"Pagination_page-active__vvNZG","page-item":"Pagination_page-item__cvnoC","page-disabled":"Pagination_page-disabled__Jh6YM",disabled:"Pagination_disabled__Skj6x","page-link":"Pagination_page-link__7vPr2","next-page-item":"Pagination_next-page-item__Uehrq","previous-page-item":"Pagination_previous-page-item__ODw91"},Q=function(e){var i=e.total,a=(0,c.F)(),n=a.searchParams,t=a.setSearchParams;return(0,m.jsx)("div",{className:J["pagination-container"],children:(0,m.jsx)(D(),{forcePage:n.get("page")?n.get("page")-1:0,previousLabel:"<",nextLabel:">",pageClassName:J["page-item"],pageLinkClassName:J["page-link"],previousClassName:J["previous-page-item"],previousLinkClassName:J["previous-page-link"],nextClassName:J["next-page-item"],nextLinkClassName:J["next-page-link"],disabledClassName:J["page-disabled"],disabledLinkClassName:J["page-disabled"],breakLabel:"...",breakClassName:J["page-item"],breakLinkClassName:J["page-link"],pageCount:Math.ceil(i/p.VZ),pageRangeDisplayed:5,onPageChange:function(e){n.set("page",e.selected+1),t(n)},containerClassName:J.pagination,activeClassName:J["page-active"]})})},R="VehiclesList_vehicles-list__3WSiG",X=function(){var e=(0,c.F)().searchParams,i=Object.fromEntries(e.entries()),a=(0,S.NX)(i),n=a.data,t=a.error,s=a.isFetching,l=a.isError,r=a.isSuccess;if(s)return(0,m.jsx)("ul",{className:R,children:(0,m.jsx)(H.Z,{})});if(r){var o,d=(null===n||void 0===n?void 0:n.vehicles.length)<(null===n||void 0===n?void 0:n.total);return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("ul",{className:R,children:[null!==n&&void 0!==n&&n.vehicles.length?null===n||void 0===n||null===(o=n.vehicles)||void 0===o?void 0:o.map((function(e){return(0,m.jsx)(z,{vehicle:e},e._id)})):(0,m.jsx)("p",{children:"No matches found"}),d?(0,m.jsx)(Q,{total:null===n||void 0===n?void 0:n.total}):null]})})}return l?(0,m.jsx)("ul",{className:R,children:(0,m.jsx)("p",{children:t.error})}):void 0},G="CatalogPage_section__bZQ68",M="CatalogPage_catalog-container__9QUP+",W=function(){return(0,m.jsx)("section",{className:G,children:(0,m.jsxs)("div",{className:M,children:[(0,m.jsx)(L,{}),(0,m.jsx)(X,{}),(0,m.jsx)(n.j3,{})]})})}}}]);
//# sourceMappingURL=572.de68423f.chunk.js.map